angular.module("agenda",["ngRoute"]),angular.module("agenda").controller("contatoCtrl",function(a,b,c){a.contato={},a.message={},a.salvar=function(a){c.post("/contatos",a).success(d).error(e)};var d=function(b){a.message.text="Contato gravador com sucesso",a.message.class="alert alert-success",delete a.contato},e=function(b){a.message.text=b,a.message.class="alert alert-danger"},f=function(){if(b.id){var d=b.id;c.get("/contatos/"+d).success(function(b){a.contato=b}).error(e)}};f()}),angular.module("agenda").controller("contatosCtrl",function(a,b){a.title="Contatos",a.contatos=[],a.message={},a.remover=function(d){b.delete("contatos/"+d.id).success(function(b){a.message.text=b,c()}).error(function(a){console.error(a)})};var c=function(){b.get("/contatos").then(d,e)},d=function(b){a.contatos=b.data},e=function(a){console.log(a)};c()}),angular.module("agenda").config(function(a){a.when("/contatos",{templateUrl:"partials/contatos.html",controller:"contatosCtrl"}),a.when("/contato",{templateUrl:"partials/contato.html",controller:"contatoCtrl"}),a.when("/contato/:id",{templateUrl:"partials/contato.html",controller:"contatoCtrl"}),a.otherwise({redirectTo:"/contatos"})});